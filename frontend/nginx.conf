server {
  listen 80;
  server_name _;

  root /usr/share/nginx/html;
  index index.html;

  # If you want same-origin API via path prefixes (recommended):
  # Proxy /api/users -> user-service, /api/devices -> device-service
  location /api/users/ {
    proxy_pass http://user-service:8080/;
  }
  location /api/devices/ {
    proxy_pass http://device-service:8080/;
  }

  # Static files
  location / {
    try_files $uri $uri/ /index.html;  # SPA fallback
  }
}
